<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Post — Perfect Gardener</title>
    <link rel="icon" href="Avtar.png" type="image/png" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css" />
    <style> html { scroll-behavior: smooth; } .post-content{ max-width: 800px; margin: 28px auto; padding: 0 4%; } .post-header{ text-align:center; margin: 18px 0 12px; } .post-header h1{ margin: 0 0 6px; } .post-cover{ width:100%; border-radius: 12px; border:1px solid var(--ring); box-shadow: var(--shadow); } .prose{ line-height:1.75; } .prose h2{ margin-top: 1.2em; } .prose img{ max-width:100%; border-radius: 10px; } </style>
    <script defer src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script defer>
      (async () => {
        const params = new URLSearchParams(location.search);
        const slug = params.get('slug');
        const container = document.getElementById('postContainer');
        const titleEl = document.getElementById('postTitle');
        const coverEl = document.getElementById('postCover');
        if (!slug) { container.innerHTML = '<p class="muted">No post specified.</p>'; return; }
        try {
          const res = await fetch(`posts/${slug}.md`, { cache: 'no-store' });
          if (!res.ok) throw new Error('not found');
          const md = await res.text();
          // naive frontmatter extraction: first line starting with '# '
          const firstLine = md.split('\n')[0];
          const title = firstLine.startsWith('# ') ? firstLine.replace('# ', '').trim() : slug;
          titleEl.textContent = title;
          // simple cover convention: if posts/${slug}.jpg exists, use it
          try {
            const imgRes = await fetch(`posts/${slug}.jpg`, { method: 'HEAD' });
            if (imgRes.ok) { coverEl.src = `posts/${slug}.jpg`; coverEl.hidden = false; }
          } catch(_){}
          const html = window.marked.parse(md);
          container.innerHTML = `<div class="prose">${html}</div>`;
        } catch (e) {
          container.innerHTML = '<p class="muted">Post not found.</p>';
        }
      })();
    </script>
  </head>
  <body>
    <header class="site-header" id="top">
      <div class="container header-inner">
        <div class="brand">
          <img src="Avtar.png" alt="Perfect Gardener logo" class="logo" width="28" height="28" />
          <a class="brand-name" href="./" style="text-decoration:none; color: inherit;">Perfect Gardener</a>
        </div>
        <nav class="main-nav">
          <a href="products.html">Products</a>
          <a href="posts/">Posts</a>
          <a href="./#youtube">YouTube</a>
          <a href="./#contact">Contact</a>
        </nav>
      </div>
    </header>
    <main>
      <div class="post-content">
        <div class="post-header">
          <h1 id="postTitle">Loading…</h1>
          <img id="postCover" class="post-cover" alt="Post cover" hidden />
        </div>
        <div id="postContainer"></div>
      </div>
    </main>
    <footer class="site-footer">
      <div class="container footer-inner">
        <p>© <span id="year"></span> Perfect Gardener</p>
        <a class="to-top" href="#top">Back to top ↑</a>
      </div>
    </footer>
    <script>document.getElementById('year').textContent = new Date().getFullYear();</script>
  </body>
  </html>



