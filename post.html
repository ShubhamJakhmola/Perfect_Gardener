<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Post ‚Äî Perfect Gardener</title>
    <link rel="icon" href="assets/images/Avtar.png" type="image/png" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css" />  
    <link rel="stylesheet" href="assets/css/hero_style.css" />
    <style>
      html { scroll-behavior: smooth; }

      .post-wrapper {
        max-width: 800px;
        margin: 40px auto;
        padding: 0 20px;
      }

      .post-header {
        text-align: center;
        margin-bottom: 20px;
      }

      .post-header h1 {
        margin: 0 0 10px;
      }

      .post-cover {
        width: 100%;
        border-radius: 12px;
        border: 1px solid var(--ring, #ccc);
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      }

      .prose {
        line-height: 1.7;
        font-size: 1rem;
      }

      .prose img {
        max-width: 100%;
        border-radius: 8px;
        margin: 10px 0;
      }

      .muted {
        color: gray;
        text-align: center;
        margin-top: 50px;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  </head>

  <body>
    <!-- üîπ Header -->
     <header class="site-header" id="top">
    <div class="container header-inner">

      <div class="brand">
        <div class="logo-wrap">
          <img src="assets/images/Avtar.png" alt="Perfect Gardener logo" class="logo-img">
        </div>
        <span class="logo-text">Perfect Gardener</span>
      </div>

      <button class="nav-toggle" aria-label="Toggle menu">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>

      <nav class="main-nav">
        <a href="./">Home</a>
        <a href="products.html">Products</a>
        <a href="posts/">Posts</a>
        <a href="#youtube">YouTube</a>
        <a href="about.html">About</a>
      </nav>
    </div>
  </header>
    <!-- üîπ Main post area -->
    <main>
      <div class="post-wrapper">
        <div id="loading" class="muted">Loading...</div>

        <div id="postContainer" hidden>
          <div class="post-header">
            <h1 id="postTitle">Loading‚Ä¶</h1>
            <img id="postCover" class="post-cover" alt="Post cover" />
          </div>
          <div id="postBody" class="prose"></div>
        </div>
      </div>
    </main>

    <!-- üîπ Footer -->
      <footer class="site-footer">
      <div class="container footer-grid">
        <div class="footer-col">
          <div class="brand"><img src="assets/images/Avtar.png" alt="logo" class="logo" width="24" height="24" /><span class="brand-name">Perfect Gardener</span></div>
          <p class="muted">Nature, flowers, plants, care ‚Äî helping them grow better.</p>
        </div>
        <div class="footer-col">
          <h4>Quick Links</h4>
          <ul class="footer-list">
            <li><a href="./">Home</a></li>
            <li><a href="#products">Products</a></li>
            <li><a href="#posts">Posts</a></li>
            <li><a href="contact.html">Contact us</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="privacy.html">Privacy Policy</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Contact</h4>
          <ul class="footer-list">
            <li>Email: progardener01@gmail.com</li>
            
            <li>Location: Uttarakhand,India</li>
          </ul>
          <a class="btn primary " target="_blank" rel="noopener" href="https://www.youtube.com/@perfect.gardener">Subscribe on YouTube</a>
          <div class="footer-social">
            <a aria-label="YouTube" href="https://www.youtube.com/@perfect.gardener" target="_blank" rel="noopener">‚ñ∂</a>
            <a aria-label="Instagram" href="#" target="_blank" rel="noopener">‚åÅ</a>
            <a aria-label="Facebook" href="#" target="_blank" rel="noopener">f</a>
            <a aria-label="Twitter/X" href="#" target="_blank" rel="noopener">ùïè</a>
          </div>
        </div>
      </div>
      <div class="container footer-bottom center">
        <p>¬© <span id="year"></span> Perfect Gardener ‚Ä¢ All rights reserved.</p>
        
      </div>
    </footer>
    <!-- AdSense placeholders (hidden) -->
    <aside class="ad-slot ad-left" aria-hidden="true" hidden></aside>
    <aside class="ad-slot ad-right" aria-hidden="true" hidden></aside>
    <!-- AdSense disabled -->
    <a href="#top" class="back-to-top" aria-label="Back to top">‚Üë</a>
  

    <script>
      document.getElementById("year").textContent = new Date().getFullYear();

      document.addEventListener("DOMContentLoaded", async () => {
        const params = new URLSearchParams(window.location.search);
        const slug = params.get("slug");

        const loadingEl = document.getElementById("loading");
        const postContainer = document.getElementById("postContainer");
        const postTitle = document.getElementById("postTitle");
        const postCover = document.getElementById("postCover");
        const postBody = document.getElementById("postBody");

        if (!slug) {
          loadingEl.textContent = "No post specified.";
          return;
        }

        try {
          const res = await fetch("assets/data/index.json");
          if (!res.ok) throw new Error("Failed to fetch posts index");

          const data = await res.json();
          const post = data.posts.find(p => p.slug === slug);
          if (!post) throw new Error("Post not found in index.json");

          const mdRes = await fetch(`assets/data/${slug}.md`);
          if (!mdRes.ok) throw new Error("Markdown file not found");
          const markdown = await mdRes.text();

          loadingEl.hidden = true;
          postContainer.hidden = false;

          postTitle.textContent = post.title;
          postCover.src = post.cover;
          postBody.innerHTML = marked.parse(markdown);

        } catch (err) {
          console.error("Error loading post:", err);
          loadingEl.textContent = "Failed to load post.";
        }
      });
    </script>
  </body>
</html>
