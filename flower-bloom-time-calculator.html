<!doctype html>
<html lang="en">

<head>
  <!-- Google Tag Manager -->
  <script>(function (w, d, s, l, i) {
      w[l] = w[l] || []; w[l].push({
        'gtm.start':
          new Date().getTime(), event: 'gtm.js'
      }); var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
          'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-PZX2CP8N');</script>
  <!-- End Google Tag Manager -->

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-4WZWST3NQ8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-4WZWST3NQ8');
  </script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Flower Bloom Time Calculator ‚Äì When Will Flowers Bloom</title>
  <link rel="icon" href="./assets/images/Avtar.png" type="image/png" />
  <meta name="theme-color" content="#27ae60" />
  <meta name="description"
    content="Estimate when your flowers will bloom based on sowing time. Plan your garden with accurate bloom predictions." />
  <meta name="keywords"
    content="flower bloom calculator, bloom time estimate, flowering guide, when will flowers bloom" />
  <meta name="author" content="Perfect Gardener" />
  <meta name="language" content="English" />
  <link rel="canonical" href="https://perfectgardener.netlify.app/flower-bloom-time-calculator.html" />
  <meta name="robots" content="index, follow" />
  <meta name="referrer" content="no-referrer-when-downgrade" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=(), payment=()" />
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; img-src 'self' data: https:; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://www.googletagmanager.com https://www.google-analytics.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; connect-src 'self' https://www.googletagmanager.com https://www.google-analytics.com; object-src 'none'; base-uri 'self';" />

  <!-- Open Graph / SEO -->
  <meta property="og:title" content="Flower Bloom Time Calculator ‚Äì When Will Flowers Bloom" />
  <meta property="og:description"
    content="Estimate when your flowers will bloom based on sowing time. Plan your garden with accurate bloom predictions." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://perfectgardener.netlify.app/flower-bloom-time-calculator.html" />

  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Flower Bloom Time Calculator ‚Äì When Will Flowers Bloom" />
  <meta name="twitter:description"
    content="Estimate when your flowers will bloom based on sowing time. Plan your garden with accurate bloom predictions." />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="assets/css/styles.css" />
  <link rel="stylesheet" href="assets/css/hero_style.css" />

  <style>
    html {
      scroll-behavior: smooth;
    }

    .tool-container {
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    .tool-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .tool-header h1 {
      font-size: 32px;
      margin-bottom: 12px;
    }

    .tool-header p {
      color: var(--muted);
      font-size: 16px;
    }

    .tool-form {
      background: var(--card);
      border: 1px solid var(--ring);
      border-radius: 12px;
      padding: 32px;
      margin-bottom: 32px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 24px;
    }

    @media (max-width: 640px) {
      .form-row {
        grid-template-columns: 1fr;
        gap: 16px;
      }
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-group label {
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--text);
      font-size: 14px;
    }

    .form-group select,
    .form-group input {
      padding: 12px 14px;
      border: 2px solid var(--ring);
      border-radius: 8px;
      font-family: inherit;
      font-size: 14px;
      color: var(--text);
      background: white;
      transition: all 0.2s ease;
    }

    .form-group select:hover,
    .form-group input:hover {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.08);
    }

    .form-group select:focus,
    .form-group input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.1);
    }

    .tool-button-group {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-top: 28px;
      flex-wrap: wrap;
    }

    .results {
      background: transparent;
      display: none;
      margin-bottom: 24px;
    }

    .results.active {
      display: block;
    }

    .results-heading {
      font-size: 24px;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 32px;
      text-align: center;
    }

    .results-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 24px;
    }

    .bloom-result {
      background: white;
      border: 2px solid var(--ring);
      border-radius: 14px;
      padding: 24px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
      transition: all 0.3s ease;
    }

    .bloom-result:hover {
      box-shadow: 0 16px 32px rgba(0, 0, 0, 0.12);
      transform: translateY(-8px);
      border-color: var(--primary);
    }

    .bloom-result h3 {
      margin-top: 0;
      color: var(--primary);
      margin-bottom: 20px;
      font-size: 18px;
    }

    .result-timeline {
      margin: 20px 0;
      padding: 16px;
      background: rgba(46, 139, 87, 0.06);
      border-radius: 8px;
    }

    .timeline-item {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
      padding: 12px;
      background: white;
      border-radius: 6px;
    }

    .timeline-item:last-child {
      margin-bottom: 0;
    }

    .timeline-icon {
      font-size: 24px;
      min-width: 30px;
      text-align: center;
    }

    .timeline-text {
      flex-grow: 1;
    }

    .timeline-text strong {
      color: var(--primary);
      display: block;
    }

    .timeline-text span {
      color: var(--muted);
      font-size: 14px;
    }

    .care-tips {
      background: rgba(46, 139, 87, 0.08);
      border-left: 4px solid var(--primary);
      padding: 16px;
      border-radius: 6px;
      margin-top: 16px;
    }

    .care-tips h4 {
      margin-top: 0;
      color: var(--primary);
    }

    .care-tips ul {
      margin: 0;
      padding-left: 20px;
    }

    .care-tips li {
      margin-bottom: 6px;
      color: var(--text);
      font-size: 14px;
    }

    .back-link {
      display: inline-block;
      margin-bottom: 24px;
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
    }

    .back-link:hover {
      text-decoration: underline;
    }
  </style>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PZX2CP8N" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- HEADER -->
  <header class="site-header" id="top">
    <div class="container header-inner">

      <div class="brand">
        <div class="logo-wrap">
          <img src="assets/images/Avtar.png" alt="Perfect Gardener logo" class="logo-img">
        </div>
        <span class="logo-text">Perfect Gardener</span>
      </div>

      <button class="nav-toggle" aria-label="Toggle menu">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>

      <nav class="main-nav" id="primary-navigation">
        <a href="./">Home</a>
        <a href="products.html">Products</a>
        <a href="posts/">Posts</a>
        <div class="nav-item dropdown">
          <button class="nav-link" aria-haspopup="true" aria-expanded="false">Tools</button>
          <ul class="dropdown-menu" role="menu">
            <li><a href="seasonal-flower-planting-calendar-india.html">Flower Planting Calendar</a></li>
            <li><a href="pot-size-calculator-for-plants.html">Pot Size Calculator</a></li>
            <li><a href="monthly-gardening-task-generator.html">Monthly Gardening Task Generator</a></li>
            <li><a href="flower-bloom-time-calculator.html">Bloom Time Calculator</a></li>
            <li><a href="gardening-budget-planner-india.html">Gardening Budget Planner (‚Çπ)</a></li>
          </ul>
        </div>
        <a href="#youtube">YouTube</a>

      </nav>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main>
    <div class="tool-container">
      <a href="garden-tools.html" class="back-link">‚Üê Back to Tools Hub</a>

      <div class="tool-header">
        <h1>üå∫ Flower Bloom Time Calculator</h1>
        <p>Predict when your flowers will bloom based on variety and sowing time.</p>
      </div>

      <!-- Tool Form -->
      <div class="tool-form">
        <div class="form-row">
          <div class="form-group">
            <label for="flowerName">Select Flower:</label>
            <select id="flowerName" onchange="handleOtherFlower()">

              <option value="">-- Select Flower --</option>
              <option value="Marigold">Marigold (Genda)</option>
              <option value="Rose">Rose</option>
              <option value="Zinnia">Zinnia</option>
              <option value="Sunflower">Sunflower</option>
              <option value="Dahlia">Dahlia</option>
              <option value="Cosmos">Cosmos</option>
              <option value="Petunia">Petunia</option>
              <option value="Chrysanthemum">Chrysanthemum</option>
              <option value="Jasmine">Jasmine</option>
              <option value="Bougainvillea">Bougainvillea</option>
              <option value="Gladiolus">Gladiolus</option>
              <option value="Tulip">Tulip</option>
              <option value="Pansy">Pansy</option>
              <option value="Dianthus">Dianthus</option>
              <option value="Snapdragon">Snapdragon</option>
              <option value="Other">Other (Plant)</option>
            </select>
            <input type="text" id="customFlowerName" placeholder="Enter plant name"
              style="display:none; margin-top:10px;" />
          </div>

          <div class="form-group">
            <label for="sowingMonth">Sowing Month:</label>
            <select id="sowingMonth">
              <option value="">-- Select Month --</option>
              <option value="January">January</option>
              <option value="February">February</option>
              <option value="March">March</option>
              <option value="April">April</option>
              <option value="May">May</option>
              <option value="June">June</option>
              <option value="July">July</option>
              <option value="August">August</option>
              <option value="September">September</option>
              <option value="October">October</option>
              <option value="November">November</option>
              <option value="December">December</option>
            </select>
          </div>
        </div>

        <div class="tool-button-group">
          <button class="btn primary" onclick="calculateBloomTime()">Calculate Bloom Time</button>
          <button class="btn ghost" onclick="resetForm()"
            style="background: var(--primary); color: white; border: none;">Reset</button>
        </div>
      </div>

      <!-- Results -->
      <div class="results" id="resultsContainer">
        <div class="results-heading" id="resultsHeading"></div>
        <div class="results-container" id="resultsContent"></div>
      </div>

    </div>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container footer-grid">
      <div class="footer-col">
        <div class="brand"><img src="assets/images/Avtar.png" alt="logo" class="logo" width="24" height="24" /><span
            class="brand-name">Perfect Gardener</span></div>
        <p class="muted">Nature, flowers, plants, care ‚Äî helping them grow better.</p>
      </div>
      <div class="footer-col">
        <h4>Quick Links</h4>
        <ul class="footer-list">
          <li><a href="./">Home</a></li>
          <li><a href="products.html">Products</a></li>
          <li><a href="posts/">Posts</a></li>
          <li><a href="garden-tools.html">Tools</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="privacy.html">Privacy Policy</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Contact</h4>
        <ul class="footer-list">
          <li>Email: progardener01@gmail.com</li>
          <li>Location: Uttarakhand, India</li>
        </ul>
        <a class="btn primary " target="_blank" rel="noopener"
          href="https://www.youtube.com/@perfect.gardener">Subscribe on YouTube</a>
      </div>
    </div>
    <div class="container footer-bottom center">
      <p>¬© <span id="year"></span> Perfect Gardener ‚Ä¢ All rights reserved.</p>
    </div>
  </footer>

  <a href="#top" class="back-to-top" aria-label="Back to top">‚Üë</a>
  <script defer src="assets/js/script.js"></script>

  <script>
    const bloomData = {
      'Marigold': {
        daysToGermination: 5,
        daysToMaturity: 50,
        bloomDuration: 90,
        care: ['Water regularly but not overwater', 'Full sun (6-8 hours daily)', 'Deadhead spent flowers', 'Well-drained soil essential']
      },
      'Rose': {
        daysToGermination: 10,
        daysToMaturity: 60,
        bloomDuration: 180,
        care: ['Requires deep watering', 'Morning sun essential', 'Regular pruning for bushier growth', 'Use rose fertilizer monthly']
      },
      'Zinnia': {
        daysToGermination: 7,
        daysToMaturity: 45,
        bloomDuration: 100,
        care: ['Water at soil level, not on leaves', 'Full sun required', 'Deadhead regularly', 'Pinch tips for bushier plants']
      },
      'Sunflower': {
        daysToGermination: 7,
        daysToMaturity: 60,
        bloomDuration: 70,
        care: ['Plant near support structure', 'Water deeply but less frequently', 'Full sun (8+ hours)', 'Tall varieties need staking']
      },
      'Dahlia': {
        daysToGermination: 14,
        daysToMaturity: 70,
        bloomDuration: 120,
        care: ['Plant tubers 6 inches deep', 'Stake early for support', 'Regular deadheading extends blooms', 'Fertilize every 2 weeks']
      },
      'Cosmos': {
        daysToGermination: 8,
        daysToMaturity: 55,
        bloomDuration: 90,
        care: ['Drought tolerant once established', 'Full sun', 'Minimal fertilizer needed', 'Deadhead for continuous blooms']
      },
      'Petunia': {
        daysToGermination: 10,
        daysToMaturity: 50,
        bloomDuration: 110,
        care: ['Regular watering essential', 'Full sun to partial shade', 'Deadhead weekly', 'Pinch for compact growth']
      },
      'Chrysanthemum': {
        daysToGermination: 12,
        daysToMaturity: 75,
        bloomDuration: 80,
        care: ['Full sun preferred', 'Keep soil moist', 'Pinch tips in summer', 'Fertilize every 2 weeks']
      },
      'Jasmine': {
        daysToGermination: 15,
        daysToMaturity: 90,
        bloomDuration: 150,
        care: ['Climbing variety - provide support', 'Partial sun', 'Regular watering during growing season', 'Fragrant flowers']
      },
      'Bougainvillea': {
        daysToGermination: 20,
        daysToMaturity: 120,
        bloomDuration: 180,
        care: ['Extremely drought tolerant', 'Full sun mandatory', 'Prune after flowering', 'Well-drained soil essential']
      },
      'Gladiolus': {
        daysToGermination: 10,
        daysToMaturity: 65,
        bloomDuration: 70,
        care: ['Plant corms 4 inches deep', 'Stake tall varieties', 'Plant succession for continuous blooms', 'Cut when first flower opens']
      },
      'Tulip': {
        daysToGermination: 14,
        daysToMaturity: 90,
        bloomDuration: 50,
        care: ['Chill bulbs before planting in warm climates', 'Full sun', 'Well-drained soil', 'Remove spent flowers']
      },
      'Pansy': {
        daysToGermination: 10,
        daysToMaturity: 60,
        bloomDuration: 120,
        care: ['Cool weather preferred', 'Partial shade in hot climate', 'Keep soil moist', 'Regular deadheading']
      },
      'Dianthus': {
        daysToGermination: 8,
        daysToMaturity: 50,
        bloomDuration: 90,
        care: ['Full sun required', 'Well-drained soil essential', 'Deadhead for extended bloom', 'Drought tolerant once established']
      },
      'Snapdragon': {
        daysToGermination: 10,
        daysToMaturity: 70,
        bloomDuration: 100,
        care: ['Full sun to partial shade', 'Keep soil consistently moist', 'Stake if needed', 'Pinch tips early for bushy growth']
      }
    };
   
    function addMonths(monthName, months) {
      const monthsArr = [
        'January', 'February', 'March', 'April', 'May', 'June',
        'July', 'August', 'September', 'October', 'November', 'December'
      ];
      let index = monthsArr.indexOf(monthName);
      return monthsArr[(index + months) % 12];
    }

    async function calculateBloomTime() {
      let flowerName = document.getElementById('flowerName').value;
      const customFlower = document.getElementById('customFlowerName').value.trim();
      const sowingMonth = document.getElementById('sowingMonth').value;

      const resultsContainer = document.getElementById('resultsContainer');
      const resultsHeading = document.getElementById('resultsHeading');
      const resultsContent = document.getElementById('resultsContent');

      if (!flowerName || !sowingMonth) {
        alert('Please select both flower and sowing month');
        return;
      }

      if (flowerName === 'Other') {
        if (!customFlower) {
          alert('Please enter a plant, fruit, or vegetable name');
          return;
        }
        flowerName = customFlower;
      }

      // Normalize name (CRITICAL)
      flowerName = flowerName.trim();
      const normalizedName =
        flowerName.charAt(0).toUpperCase() + flowerName.slice(1).toLowerCase();

      resultsHeading.textContent = '‚è≥ Fetching plant data...';
      resultsContainer.classList.add('active');

      let data = bloomData[normalizedName];

      // 1Ô∏è‚É£ Try Global JSON
      if (!data) {
        try {
          const res = await fetch('./assets/data/GlobalPlantsDatabase.json');
          if (res.ok) {
            const globalDB = await res.json();
            if (globalDB[normalizedName]) {
              data = globalDB[normalizedName];
            }
          }
        } catch (_) { }
      }

      // 2Ô∏è‚É£ AI fallback
      if (!data) {
        try {
          const aiRes = await fetch('/.netlify/functions/getPlantBloomData', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ plant: normalizedName })
          });

          const aiRaw = await aiRes.json();
          const aiContent =
            typeof aiRaw === 'string'
              ? aiRaw
              : aiRaw.choices?.[0]?.message?.content;

          data = JSON.parse(aiContent);
        } catch (err) {
          alert('Please Wait fetching plant data.');
          return;
        }
      }

      // 3Ô∏è‚É£ Schema validation (NON-NEGOTIABLE)
      if (
        !data ||
        typeof data.daysToGermination !== 'number' ||
        typeof data.daysToMaturity !== 'number' ||
        typeof data.bloomDuration !== 'number' ||
        !Array.isArray(data.care)
      ) {
        alert('Plant data format is invalid. Please try again later.');
        return;
      }

      // 4Ô∏è‚É£ Timeline calculation
      const totalDays = data.daysToGermination + data.daysToMaturity;
      const monthsToBloom = Math.ceil(totalDays / 30);
      const bloomMonth = addMonths(sowingMonth, monthsToBloom);
      const endMonth = addMonths(
        bloomMonth,
        Math.ceil(data.bloomDuration / 30)
      );

      // 5Ô∏è‚É£ Render
      resultsHeading.textContent = `üå∫ ${normalizedName} Bloom Timeline`;

      let html = `<div class="bloom-result">
    <h3>üìÖ Bloom Timeline</h3>
    <div class="result-timeline">
      <div class="timeline-item">
        <div class="timeline-icon">üå±</div>
        <div class="timeline-text">
          <strong>Sowing Month</strong>
          <span>${sowingMonth}</span>
        </div>
      </div>
      <div class="timeline-item">
        <div class="timeline-icon">üåø</div>
        <div class="timeline-text">
          <strong>Germination</strong>
          <span>${data.daysToGermination} days</span>
        </div>
      </div>
      <div class="timeline-item">
        <div class="timeline-icon">üå∏</div>
        <div class="timeline-text">
          <strong>Bloom Start</strong>
          <span>${bloomMonth} (~${totalDays} days)</span>
        </div>
      </div>
      <div class="timeline-item">
        <div class="timeline-icon">üíê</div>
        <div class="timeline-text">
          <strong>Bloom Duration</strong>
          <span>${data.bloomDuration} days</span>
        </div>
      </div>
      <div class="timeline-item">
        <div class="timeline-icon">üçÇ</div>
        <div class="timeline-text">
          <strong>Bloom End</strong>
          <span>Around ${endMonth}</span>
        </div>
      </div>
    </div>

    <div class="care-tips">
      <h4>üåø Essential Care Tips</h4>
      <ul>
        ${data.care.map(tip => `<li>${tip}</li>`).join('')}
      </ul>
    </div>
  </div>`;

      resultsContent.innerHTML = html;
      resultsContainer.scrollIntoView({ behavior: 'smooth' });
    }

    function handleOtherFlower() {
      const select = document.getElementById('flowerName');
      const input = document.getElementById('customFlowerName');
      if (select.value === 'Other') {
        input.style.display = 'block';
        input.focus();
      } else {
        input.style.display = 'none';
        input.value = '';
      }
    }

    function resetForm() {
      document.getElementById('flowerName').value = '';
      document.getElementById('sowingMonth').value = '';
      document.getElementById('customFlowerName').value = '';
      document.getElementById('customFlowerName').style.display = 'none';
      document.getElementById('resultsContainer').classList.remove('active');
    }

  </script>
</body>

</html>